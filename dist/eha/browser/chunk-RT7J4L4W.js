import{a as j}from"./chunk-6X7AETQB.js";import{a as L}from"./chunk-5WERA7WM.js";import{a as R,b as E}from"./chunk-ZM3ULWOH.js";import{a as G}from"./chunk-YGK54RN3.js";import"./chunk-XC4KBJWX.js";import"./chunk-CEWKWK6U.js";import"./chunk-SP6S2HTI.js";import{f as B}from"./chunk-GS7ZRR4M.js";import{k as S,p as w,r as O,t as T}from"./chunk-WDQTWRWB.js";import{Ab as y,Eb as g,Fb as p,La as x,Nb as s,Ob as P,Pb as f,Ra as l,Sa as c,Vb as I,Xb as v,ba as h,bc as b,cc as k,hb as A,ka as u,la as _,lb as m,qb as M,ub as o,vb as r,wa as C,wb as d}from"./chunk-IYQR6SBG.js";import"./chunk-DM275RSA.js";var F=a=>({"d-none":a});function V(a,W){if(a&1){let e=y();o(0,"div",15)(1,"div",16)(2,"p",17),s(3),r()(),o(4,"div",18),d(5,"p",19),r(),o(6,"div",20)(7,"p",21),s(8),b(9,"date"),r(),o(10,"p",21),s(11),b(12,"date"),r(),o(13,"button",22),g("click",function(n){u(e);let t=p();return _(t.addBookmark(t.Article.id,n))}),d(14,"i",23),r(),o(15,"button",24),g("click",function(n){u(e);let t=p();return _(t.removeBookmark(t.Article.bookmark[0].id,n))}),d(16,"i",25),r()()()}if(a&2){let e=p();l(3),P(e.Article.article_title),l(2),m("innerHTML",e.Article.article_text,x),l(3),f(" created: ",k(9,6,e.Article.created_at)," "),l(3),f(" updated: ",k(12,8,e.Article.updated_at)," "),l(2),m("ngClass",v(10,F,e.Article.is_end)),l(2),m("ngClass",v(12,F,!e.Article.is_end))}}var ee=(()=>{class a{constructor(e,i,n,t,D){this._GuidelineService=e,this._PLATFORM_ID=i,this._ActivatedRoute=n,this._BookmarkService=t,this._ToastrService=D}ngOnInit(){this.getAllGuidLines(),this.handleGetCurrentCategoryId()}handleGetCurrentCategoryId(){this._ActivatedRoute.paramMap.subscribe({next:e=>{this.ArticleId=e.get("id")}})}getUserId(){return T(this._PLATFORM_ID)&&localStorage.getItem("userId")||""}getAllGuidLines(){this._GuidelineService.getAllGuidelines(this.getUserId()).subscribe({next:e=>{this.Article=e.articles.find(i=>i.id==+this.ArticleId),console.log(this.Article),console.log(e)},error:e=>{console.log(e)}})}addBookmark(e,i){i.stopPropagation();let n={user_id:+this.getUserId(),protocol_id:e,bookmark_type:"guideline"};console.log(n),this._BookmarkService.addBookmark(n).subscribe({next:t=>{this.getAllGuidLines(),this._ToastrService.success("Bookmark added"),console.log(t)},error:t=>{console.log(t)}})}removeBookmark(e,i){i.stopPropagation();let n={user_id:+this.getUserId(),bookmark_id:e};this._BookmarkService.deleteBookmark(n).subscribe({next:t=>{console.log(t),this._ToastrService.success("Bookmark removed"),this.getAllGuidLines()},error:t=>{console.log(t)}})}static{this.\u0275fac=function(i){return new(i||a)(c(j),c(C),c(B),c(L),c(G))}}static{this.\u0275cmp=h({type:a,selectors:[["app-read-guideline"]],standalone:!0,features:[I],decls:22,vars:1,consts:[["id","guideline"],[1,"text-white","shadow"],[1,"bg-black","bg-opacity-50","h-100"],[1,"container-lg","container-fluid","d-flex","justify-content-start","align-items-center","h-100"],[1,"text-uppercase","fs-1"],[1,"fa-regular","fa-paper-plane","ms-3"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider","'>'"],[1,"breadcrumb"],["aria-current","page",1,"breadcrumb-item"],[1,"fa-solid","fa-house","me-1"],["aria-current","page",1,"breadcrumb-item","text-white","text-opacity-50"],[1,"my-4"],[1,"container"],[1,"row"],[1,"col-12"],[1,"card","border-0","bg-light","shadow","position-relative"],[1,"card-title","p-3","pb-0","fs-4"],[1,"fw-semibold"],[1,"card-body"],[1,"fw-bold",3,"innerHTML"],[1,"d-flex","justify-content-between","card-footer"],[1,"text-muted","fst-italic","mb-0",2,"font-size","12px"],["pTooltip","Add Book Mark","tooltipPosition","top",1,"w-45","position-absolute","top-0","end-0","m-3","btn","text-secondary",3,"click","ngClass"],[1,"fa-regular","fa-bookmark","fs-4"],["pTooltip","Remove From Mark","tooltipPosition","top",1,"w-45","position-absolute","top-0","end-0","m-3","btn","text-secondary",3,"click","ngClass"],[1,"fa-solid","fa-bookmark","fs-4"]],template:function(i,n){i&1&&(o(0,"section",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"div")(5,"div")(6,"h2",4),s(7," Articles "),d(8,"i",5),r()(),o(9,"div")(10,"nav",6)(11,"ol",7)(12,"li",8),d(13,"i",9),s(14," Home "),r(),o(15,"li",10),s(16," Articles "),r()()()()()()()(),o(17,"div",11)(18,"div",12)(19,"div",13)(20,"div",14),A(21,V,17,14,"div",15),r()()()()()),i&2&&(l(21),M(21,n.Article?21:-1))},dependencies:[E,R,w,O,S],styles:["#guideline[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{height:50vh;background-image:url(/assets/rev/4.jpg);background-position:top center;background-size:cover;transform:translateY(10px);opacity:0;animation:_ngcontent-%COMP%_Welcome__Animation 1s forwards}#guideline[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{transform:translate(-3000px);opacity:0;animation:_ngcontent-%COMP%_Welcome__Content__Animation 1s forwards}#guideline[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{transform:translate(-3000px);opacity:0;animation:_ngcontent-%COMP%_Welcome__Content__Animation 1s .3s forwards}@keyframes _ngcontent-%COMP%_Welcome__Animation{0%{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_Welcome__Content__Animation{0%{transform:translate(-3000px);opacity:0}to{transform:translate(0);opacity:1}}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{color:#fff}"]})}}return a})();export{ee as ReadGuidelineComponent};
