import{a as ce}from"./chunk-TLTQ2BMO.js";import"./chunk-ZBTMF6FG.js";import{b as oe,c as re,f as ae,g as me,h as le}from"./chunk-6BYKKY55.js";import{b as D}from"./chunk-ZM3ULWOH.js";import{a as se}from"./chunk-S26VBWBL.js";import{j as V}from"./chunk-XC4KBJWX.js";import{b as ee,f as te,j as ie,o as ne}from"./chunk-6I7XQ6OV.js";import"./chunk-CEWKWK6U.js";import"./chunk-SP6S2HTI.js";import{h as Y,n as F}from"./chunk-GS7ZRR4M.js";import{k as J,q as X,r as v,t as E}from"./chunk-WDQTWRWB.js";import{Ab as b,Eb as y,Fb as I,Nb as l,Pb as T,Qb as G,Ra as r,Rb as U,Sa as p,Sb as Q,T as H,Tb as q,Vb as x,Wb as M,Yb as k,ba as u,bc as C,ca as K,cb as N,dc as L,ea as O,ec as W,hb as g,ka as f,kb as P,la as h,lb as d,ma as R,na as B,pb as w,qb as S,rb as j,sb as z,tb as Z,ub as o,vb as s,wa as $,wb as _}from"./chunk-IYQR6SBG.js";import"./chunk-DM275RSA.js";var ue=(()=>{class t extends se{static \u0275fac=(()=>{let e;return function(n){return(e||(e=B(t)))(n||t)}})();static \u0275cmp=u({type:t,selectors:[["BarsIcon"]],standalone:!0,features:[N,x],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z","fill","currentColor"]],template:function(i,n){i&1&&(R(),o(0,"svg",0),_(1,"path",1),s()),i&2&&(w(n.getClassNames()),P("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return t})();var pe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=K({type:t});static \u0275inj=H({imports:[v,F,oe,D,V,ue,ae,re,F,D,V]})}return t})();var de=(()=>{class t{transform(e,i){let n=i.toLocaleLowerCase();return e.filter(m=>{let c=`${m.patient_name.trim()} ${m.patient_case.trim()}`.toLocaleLowerCase();return console.log(c),console.log(i),c.includes(n)})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=O({name:"searchPatients",type:t,pure:!0,standalone:!0})}}return t})();var _e=()=>[8,16,32],Ie=(t,a)=>({"border-bottom":t,"border-end":a});function fe(t,a){t&1&&(o(0,"div",7)(1,"div",12)(2,"p",13),l(3,"No Patients Found"),s()()())}function he(t,a){if(t&1){let e=b();o(0,"div",14),y("click",function(){let n=f(e).$implicit,m=I(2);return h(m.onClickGetSpecificHistory(n))}),_(1,"img",15),o(2,"p",16),l(3),s(),o(4,"p",17),l(5),s()()}if(t&2){let e=a.$implicit,i=a.$index;d("ngClass",k(5,Ie,i<4,i!==3&&i!==7)),r(),d("alt",e.protocol_name),r(2),G(" ",e.patient_name," ",e.patient_case," "),r(2),T(" ",e.protocol_name," ")}}function ge(t,a){if(t&1){let e=b();g(0,fe,4,0,"div",7),C(1,"searchPatients"),o(2,"div",8),z(3,he,6,8,"div",9,j),C(5,"searchPatients"),C(6,"slice"),s(),o(7,"div",10)(8,"p-paginator",11),y("onPageChange",function(n){f(e);let m=I();return h(m.onPageChange(n))}),s()()}if(t&2){let e=I();S(0,L(1,5,e.IPatientHistory.Historys,e.inputSearch).length==0?0:-1),r(3),Z(W(6,11,L(5,8,e.IPatientHistory.Historys,e.inputSearch),e.first,e.next)),r(5),d("first",e.first)("rows",e.rows)("totalRecords",e.IPatientHistory.Historys.length)("rowsPerPageOptions",M(15,_e))}}function be(t,a){t&1&&(o(0,"div",7)(1,"div",12)(2,"p",13),l(3,"No Patients Found"),s()()())}var ht=(()=>{class t{constructor(e,i,n){this._HistoryProtocolsService=e,this._PLATFORM_ID=i,this._Router=n,this.inputSearch="",this.first=0,this.rows=10,this.next=10}ngOnInit(){this.getPatientHistory()}getUserId(){if(E(this._PLATFORM_ID))return localStorage.getItem("userId")||""}getPatientHistory(){this._HistoryProtocolsService.getPatientsHistory(this.getUserId()).subscribe({next:e=>{this.IPatientHistory=e},error:e=>{console.log(e)}})}onClickGetSpecificHistory(e){let i={patient_name:e.patient_name,patient_case:e.patient_case,protocol_id:+e.protocol_id,user_id:+this.getUserId()};localStorage.setItem("PatientData",JSON.stringify(i)),this._Router.navigate(["/protocols/patient-history",e.protocol_id])}onPageChange(e){this.first=e.first,this.rows=e.rows,e.first+e.rows<this.IPatientHistory.Historys.length?(this.first=e.first,this.rows=e.rows,this.next=this.first+e.rows):this.next=this.IPatientHistory.Historys.length}static{this.\u0275fac=function(i){return new(i||t)(p(ce),p($),p(Y))}}static{this.\u0275cmp=u({type:t,selectors:[["app-patients-history"]],standalone:!0,features:[x],decls:10,vars:2,consts:[[1,"container-lg","container-fluid"],[1,"py-5"],[1,"row","g-0"],[1,"col-12","mb-4","shadow","w-100","bg-secondary","p-5"],[1,"form-floating","mb-3"],["type","search","id","floatingInput","placeholder","search patients...",1,"form-control",3,"ngModelChange","ngModel"],["for","floatingInput"],[1,"card","border-0","bg-light","shadow-sm","position-relative","card__animation"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","row-cols-lg-4","min-h-50vh","align-items-start"],[1,"text-center","bg-light","p-5","Protocol__Card","position-relative","card__animation",3,"ngClass"],[1,"flex","justify-content-center"],[3,"onPageChange","first","rows","totalRecords","rowsPerPageOptions"],[1,"card-title","p-3","pb-0","fs-4"],[1,"fw-semibold"],[1,"text-center","bg-light","p-5","Protocol__Card","position-relative","card__animation",3,"click","ngClass"],["src","/assets/app_logo.png",1,"w-85","mx-auto","mb-3",3,"alt"],[1,"fs-6","text-secondary","fw-bold"],[1,"text-dark","text-opacity-50","text-center","mb-0"]],template:function(i,n){i&1&&(o(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"input",5),q("ngModelChange",function(c){return Q(n.inputSearch,c)||(n.inputSearch=c),c}),s(),o(6,"label",6),l(7,"Search Patients"),s()()(),g(8,ge,9,16)(9,be,4,0),s()()()),i&2&&(r(5),U("ngModel",n.inputSearch),r(3),S(8,n.IPatientHistory?8:9))},dependencies:[pe,ne,ee,te,ie,le,me,v,J,X,de],styles:[".Protocol__Card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::selection{background-color:transparent}.Protocol__Card[_ngcontent-%COMP%]{overflow-x:auto;cursor:pointer;transition:all .3s}.Protocol__Card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .3s}.Protocol__Card[_ngcontent-%COMP%]:hover{box-shadow:0 0 3px #14457b inset;z-index:1;background-color:#fff!important}.Protocol__Card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.Protocol__Card[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{text-decoration:underline}"]})}}return t})();export{ht as PatientsHistoryComponent};
