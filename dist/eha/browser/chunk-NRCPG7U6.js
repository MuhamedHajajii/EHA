import{a as Z}from"./chunk-TLTQ2BMO.js";import"./chunk-ZBTMF6FG.js";import{g as Q,h as X}from"./chunk-6BYKKY55.js";import{a as Y}from"./chunk-5WERA7WM.js";import"./chunk-ZM3ULWOH.js";import"./chunk-S26VBWBL.js";import{a as $}from"./chunk-YGK54RN3.js";import"./chunk-XC4KBJWX.js";import{b as z,f as q,j as J,o as K}from"./chunk-6I7XQ6OV.js";import"./chunk-CEWKWK6U.js";import"./chunk-SP6S2HTI.js";import{i as W}from"./chunk-GS7ZRR4M.js";import{k as j,p as R,q as N,r as A,t as U}from"./chunk-WDQTWRWB.js";import{Ab as P,Eb as k,Fb as g,Nb as c,Pb as x,Ra as s,Rb as L,Sa as p,Sb as H,Tb as O,Vb as T,Wb as B,Xb as F,Yb as E,ba as v,bc as m,cc as D,dc as w,ea as b,ec as V,hb as C,ka as f,la as h,lb as u,qb as y,rb as G,sb as I,tb as M,ub as n,vb as r,wa as S,wb as _}from"./chunk-IYQR6SBG.js";import"./chunk-DM275RSA.js";var ee=(()=>{class t{transform(e,i){return e.filter(o=>o.guide_line.article_title.toLocaleLowerCase().includes(i.toLocaleLowerCase()))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=b({name:"searchGuidelineHistory",type:t,pure:!0,standalone:!0})}}return t})();var ie=()=>[8,16,32],oe=t=>["/articles",t],ne=(t,l)=>({"border-bottom":t,"border-end":l});function re(t,l){t&1&&(n(0,"div",7)(1,"div",12)(2,"p",13),c(3,"No Guidelines Found"),r()()())}function ae(t,l){if(t&1){let e=P();n(0,"div",9),_(1,"img",14),n(2,"p",15),c(3),r(),n(4,"p",16),c(5,"created at:"),r(),n(6,"p",17),c(7),m(8,"date"),r(),n(9,"button",18),k("click",function(o){let a=f(e).$implicit,d=g(2);return h(d.removeBookmark(a.id,o))}),_(10,"i",19),r()()}if(t&2){let e=l.$implicit,i=l.$index;u("routerLink",F(7,oe,e.guide_line.id))("ngClass",E(9,ne,i<4,i!==3&&i!==7)),s(),u("alt",e.guide_line.article_title),s(2),x(" ",e.guide_line.article_title," "),s(4),x(" ",D(8,5,e.created_at)," ")}}function se(t,l){if(t&1){let e=P();C(0,re,4,0,"div",7),m(1,"searchGuidelineHistory"),n(2,"div",8),I(3,ae,11,12,"div",9,G),m(5,"searchGuidelineHistory"),m(6,"slice"),r(),n(7,"div",10)(8,"p-paginator",11),k("onPageChange",function(o){f(e);let a=g();return h(a.onPageChange(o))}),r()()}if(t&2){let e=g();y(0,w(1,5,e.IGuideLine.bookmarks,e.inputSearch).length==0?0:-1),s(3),M(V(6,11,w(5,8,e.IGuideLine.bookmarks,e.inputSearch),e.first,e.next)),s(5),u("first",e.first)("rows",e.rows)("totalRecords",e.IGuideLine.bookmarks.length)("rowsPerPageOptions",B(15,ie))}}function le(t,l){t&1&&(n(0,"div",7)(1,"div",12)(2,"p",13),c(3,"No Guidelines Found"),r()()())}var ve=(()=>{class t{constructor(e,i,o,a){this._HistoryProtocolsService=e,this._PLATFORM_ID=i,this._BookmarkService=o,this._ToastrService=a,this.inputSearch="",this.first=0,this.rows=10,this.next=10}ngOnInit(){this.getGuideLineHistory()}getUserId(){if(U(this._PLATFORM_ID))return localStorage.getItem("userId")||""}getGuideLineHistory(){this._HistoryProtocolsService.getGuidelineHistory(this.getUserId()).subscribe({next:e=>{this.IGuideLine=e,console.log(e,"IGuideLine")},error:e=>{console.log(e)}})}removeBookmark(e,i){i.stopPropagation();let o={user_id:+this.getUserId(),bookmark_id:e};this._BookmarkService.deleteBookmark(o).subscribe({next:a=>{console.log(a),this._ToastrService.success("Bookmark removed"),this.getGuideLineHistory()},error:a=>{console.log(a)}})}onPageChange(e){this.first=e.first,this.rows=e.rows,e.first+e.rows<this.IGuideLine.bookmarks.length?(this.first=e.first,this.rows=e.rows,this.next=this.first+e.rows):this.next=this.IGuideLine.bookmarks.length}static{this.\u0275fac=function(i){return new(i||t)(p(Z),p(S),p(Y),p($))}}static{this.\u0275cmp=v({type:t,selectors:[["app-guideline-history"]],standalone:!0,features:[T],decls:10,vars:2,consts:[[1,"container-fluid"],[1,"py-5"],[1,"row","g-0"],[1,"col-12","shadow","w-100","mb-4","bg-secondary","p-5"],[1,"form-floating","mb-3"],["type","search","id","floatingInput","placeholder","search articles...",1,"form-control",3,"ngModelChange","ngModel"],["for","floatingInput"],[1,"card","border-0","bg-light","shadow-sm","position-relative","card__animation"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","row-cols-lg-4","min-h-50vh","align-items-start"],[1,"text-center","bg-light","p-5","Protocol__Card","position-relative","card__animation",3,"routerLink","ngClass"],[1,"flex","justify-content-center"],[3,"onPageChange","first","rows","totalRecords","rowsPerPageOptions"],[1,"card-title","p-3","pb-0","fs-4"],[1,"fw-semibold"],["src","/assets/app_logo.png",1,"w-85","mx-auto","mb-3",3,"alt"],[1,"fs-6","text-secondary","fw-bold"],[1,"text-dark","text-opacity-50","text-center","mb-0"],[1,"text-dark","text-opacity-50","text-center"],["pTooltip","remove book mark","tooltipPosition","top",1,"w-45","position-absolute","top-0","start-0","m-3","btn","text-secondary",3,"click"],[1,"fa-solid","fa-bookmark","fs-4"]],template:function(i,o){i&1&&(n(0,"div",0)(1,"section",1),_(2,"div",2),n(3,"div",3)(4,"div",4)(5,"input",5),O("ngModelChange",function(d){return H(o.inputSearch,d)||(o.inputSearch=d),d}),r(),n(6,"label",6),c(7,"Search Guidelines"),r()()(),C(8,se,9,16)(9,le,4,0),r()()),i&2&&(s(5),L("ngModel",o.inputSearch),s(3),y(8,o.IGuideLine?8:9))},dependencies:[A,j,N,R,X,Q,z,q,J,W,ee,K],styles:[".Protocol__Card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::selection{background-color:transparent}.Protocol__Card[_ngcontent-%COMP%]{overflow-x:auto;cursor:pointer;transition:all .3s}.Protocol__Card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .3s}.Protocol__Card[_ngcontent-%COMP%]:hover{box-shadow:0 0 3px #14457b inset;z-index:1;background-color:#fff!important}.Protocol__Card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.Protocol__Card[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{text-decoration:underline}"]})}}return t})();export{ve as GuidelineHistoryComponent};
