import './polyfills.server.mjs';
import{a as Z}from"./chunk-W4MXG5US.mjs";import{g as Q,h as X}from"./chunk-FCIQNDRR.mjs";import"./chunk-4W4XXWLY.mjs";import{a as Y}from"./chunk-36HCJA7L.mjs";import"./chunk-ON5PZMWI.mjs";import"./chunk-GIULMYYP.mjs";import{a as q}from"./chunk-B4BET5RO.mjs";import"./chunk-EM75C6OI.mjs";import{b as z,f as G,j as J,o as K}from"./chunk-O5OFBI32.mjs";import"./chunk-COOKNSSU.mjs";import{m as $}from"./chunk-JJTOLLRI.mjs";import"./chunk-3E4TOBEZ.mjs";import{m as R,r as N,s as A,t as U,w as W}from"./chunk-ALSAN5KH.mjs";import{Cb as M,Gb as P,Hb as g,Pb as l,Rb as y,Ta as s,Tb as H,Ua as m,Ub as O,Vb as T,Xb as F,Yb as E,Zb as L,_b as D,ba as B,dc as d,ea as w,ec as V,fc as x,gc as j,jb as h,ka as f,la as u,nb as k,sb as C,tb as b,ub as S,vb as I,wa as v,wb as r,xb as n,yb as _}from"./chunk-QYIFABBK.mjs";import"./chunk-VVCT4QZE.mjs";var oo=(()=>{class t{transform(o,e){return o.filter(i=>i.protocolscopes.title.toLocaleLowerCase().includes(e.toLocaleLowerCase()))}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275pipe=w({name:"searchProtocolsHistoryBookMark",type:t,pure:!0,standalone:!0})}}return t})();var eo=()=>[8,16,32],io=t=>["/protocols/questions",t],ro=(t,c)=>({"border-bottom":t,"border-end":c});function no(t,c){t&1&&(r(0,"div",7)(1,"div",12)(2,"p",13),l(3,"No Protocols Found"),n()()())}function ao(t,c){if(t&1){let o=M();r(0,"div",9),_(1,"img",14),r(2,"p",15),l(3),n(),r(4,"p",16),l(5,"created at:"),n(),r(6,"p",17),l(7),d(8,"date"),n(),r(9,"button",18),P("click",function(i){let a=f(o).$implicit,p=g(2);return u(p.removeBookmark(a.id,i))}),_(10,"i",19),n()()}if(t&2){let o=c.$implicit,e=c.$index;k("routerLink",L(7,io,o.protocol_id))("ngClass",D(9,ro,e<4,e!==3&&e!==7)),s(),k("alt",o.protocolscopes.title),s(2),y(" ",o.protocolscopes.title," "),s(4),y(" ",V(8,5,o.created_at)," ")}}function so(t,c){if(t&1){let o=M();h(0,no,4,0,"div",7),d(1,"searchProtocolsHistoryBookMark"),r(2,"div",8),S(3,ao,11,12,"div",9,b),d(5,"searchProtocolsHistoryBookMark"),d(6,"slice"),n(),r(7,"div",10)(8,"p-paginator",11),P("onPageChange",function(i){f(o);let a=g();return u(a.onPageChange(i))}),n()()}if(t&2){let o=g();C(0,x(1,5,o.IBookMarks.bookmarks,o.inputSearch).length==0?0:-1),s(3),I(j(6,11,x(5,8,o.IBookMarks.bookmarks,o.inputSearch),o.first,o.next)),s(5),k("first",o.first)("rows",o.rows)("totalRecords",o.IBookMarks.bookmarks.length)("rowsPerPageOptions",E(15,eo))}}function co(t,c){t&1&&(r(0,"div",7)(1,"div",12)(2,"p",13),l(3,"No Categories Found"),n()()())}var wo=(()=>{class t{constructor(o,e,i,a){this._HistoryProtocolsService=o,this._PLATFORM_ID=e,this._BookmarkService=i,this._ToastrService=a,this.inputSearch="",this.first=0,this.rows=10,this.next=10}ngOnInit(){this.getBookMarkHistory()}getUserId(){if(W(this._PLATFORM_ID))return localStorage.getItem("userId")||""}getBookMarkHistory(){this._HistoryProtocolsService.getBookMarksHistory(this.getUserId()).subscribe({next:o=>{this.IBookMarks=o,console.log(o,"IBookMarks")},error:o=>{console.log(o)}})}removeBookmark(o,e){e.stopPropagation();let i={user_id:+this.getUserId(),bookmark_id:o};this._BookmarkService.deleteBookmark(i).subscribe({next:a=>{console.log(a),this._ToastrService.success("Bookmark removed"),this.getBookMarkHistory()},error:a=>{console.log(a)}})}onPageChange(o){this.first=o.first,this.rows=o.rows,o.first+o.rows<this.IBookMarks.bookmarks.length?(this.first=o.first,this.rows=o.rows,this.next=this.first+o.rows):this.next=this.IBookMarks.bookmarks.length}static{this.\u0275fac=function(e){return new(e||t)(m(Z),m(v),m(Y),m(q))}}static{this.\u0275cmp=B({type:t,selectors:[["app-book-mark-history"]],standalone:!0,features:[F],decls:10,vars:2,consts:[[1,"container-fluid"],[1,"py-5"],[1,"row","g-0"],[1,"col-12","shadow","w-100","mb-4","bg-secondary","p-5"],[1,"form-floating","mb-3"],["type","search","id","floatingInput","placeholder","search protocols...",1,"form-control",3,"ngModelChange","ngModel"],["for","floatingInput"],[1,"card","border-0","bg-light","shadow-sm","position-relative","card__animation"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","row-cols-lg-4","min-h-50vh","align-items-start"],[1,"text-center","bg-light","p-5","Protocol__Card","position-relative","card__animation",3,"routerLink","ngClass"],[1,"flex","justify-content-center"],[3,"onPageChange","first","rows","totalRecords","rowsPerPageOptions"],[1,"card-title","p-3","pb-0","fs-4"],[1,"fw-semibold"],["src","/assets/app_logo.png",1,"w-85","mx-auto","mb-3",3,"alt"],[1,"fs-6","text-secondary","fw-bold"],[1,"text-dark","text-opacity-50","text-center","mb-0"],[1,"text-dark","text-opacity-50","text-center"],["pTooltip","remove book mark","tooltipPosition","top",1,"w-45","position-absolute","top-0","start-0","m-3","btn","text-secondary",3,"click"],[1,"fa-solid","fa-bookmark","fs-4"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"section",1),_(2,"div",2),r(3,"div",3)(4,"div",4)(5,"input",5),T("ngModelChange",function(p){return O(i.inputSearch,p)||(i.inputSearch=p),p}),n(),r(6,"label",6),l(7,"Search Protocols"),n()()(),h(8,so,9,16)(9,co,4,0),n()()),e&2&&(s(5),H("ngModel",i.inputSearch),s(3),C(8,i.IBookMarks?8:9))},dependencies:[U,R,A,N,$,K,z,G,J,oo,X,Q],styles:[".Protocol__Card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::selection{background-color:transparent}.Protocol__Card[_ngcontent-%COMP%]{overflow-x:auto;cursor:pointer;transition:all .3s}.Protocol__Card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .3s}.Protocol__Card[_ngcontent-%COMP%]:hover{box-shadow:0 0 3px #14457b inset;z-index:1;background-color:#fff!important}.Protocol__Card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.Protocol__Card[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{text-decoration:underline}"]})}}return t})();export{wo as BookMarkHistoryComponent};
