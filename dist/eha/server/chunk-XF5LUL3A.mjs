import './polyfills.server.mjs';
import{a as L,b as U}from"./chunk-NJHLYXYG.mjs";import{a as j}from"./chunk-KXUBQWTO.mjs";import"./chunk-DU6PHMOB.mjs";import"./chunk-4W4XXWLY.mjs";import{a as M}from"./chunk-B4BET5RO.mjs";import"./chunk-EM75C6OI.mjs";import"./chunk-JLUAHUHV.mjs";import{d as l,f as T,g as E,h as I,i as h,k as V,l as k,m as D,p as N}from"./chunk-O5OFBI32.mjs";import"./chunk-COOKNSSU.mjs";import{m as y}from"./chunk-JJTOLLRI.mjs";import"./chunk-3E4TOBEZ.mjs";import{m as _,t as F,w as b}from"./chunk-ALSAN5KH.mjs";import{Gb as w,Pb as n,Ta as a,Ua as u,Xb as f,_b as S,ba as p,jb as C,nb as d,sb as c,wa as P,wb as o,xb as i,yb as g}from"./chunk-QYIFABBK.mjs";import"./chunk-VVCT4QZE.mjs";var R=(s,m)=>({"d-block":s,"d-none":m});function A(s,m){s&1&&(o(0,"div",7)(1,"small",13),n(2,"password and rePassword required*"),i()())}function O(s,m){s&1&&(o(0,"div",7)(1,"small",13),n(2,"password minlength (8) characters*"),i()())}function x(s,m){s&1&&(o(0,"div",7)(1,"small",13),n(2,"password and rePassword must be same*"),i()())}var q=(()=>{class s{constructor(r,t,e){this._PLATFORM_ID=r,this._PrivacySettingsService=t,this._ToastrService=e,this.startValidation=!1,this.isSuccess=!1,this.userPasswordForm=new I({password:new h("",[l.required,l.minLength(8)]),rePassword:new h("",[l.required,l.minLength(8)])},{validators:this.passwordMatchValidators})}ngOnInit(){}getUserId(){if(b(this._PLATFORM_ID))return localStorage.getItem("userId")||""}onSubmitUpdateUserPassword(){if(this.startValidation=!0,console.log(this.userPasswordForm),this.userPasswordForm.valid){let r={user_id:this.getUserId()||"",password:this.userPasswordForm.value.password||""};this._PrivacySettingsService.changePassword(r).subscribe({next:t=>{this.startValidation=!1,console.log(t),this.isSuccess=!0,this._ToastrService.success("Password Changed Successfully")},error:t=>{console.log(t)}})}}passwordMatchValidators(r){let t=r.get("password")?.value,e=r.get("rePassword")?.value;return console.log(t&&e&&t!==e),t&&e&&t!==e?{passwordMismatch:!0}:null}get password(){return this.userPasswordForm.get("password")}get rePassword(){return this.userPasswordForm.get("rePassword")}static{this.\u0275fac=function(t){return new(t||s)(u(P),u(j),u(M))}}static{this.\u0275cmp=p({type:s,selectors:[["app-change-password"]],standalone:!0,features:[f],decls:23,vars:12,consts:[[1,"p-3",3,"ngSubmit","formGroup"],[1,"mb-4"],[1,"border-4","border-bottom"],[1,"row","g-3"],[1,"col-md-12"],["formControlName","password",1,"form-control","p-0",3,"onFocus","feedback","toggleMask"],["formControlName","rePassword",1,"form-control","p-0",3,"onFocus","feedback","toggleMask"],[1,"col-12"],[1,"text-success","fst-italic",3,"ngClass"],[1,"col-md-12","d-flex","justify-content-between","align-items-center","flex-column","flex-md-row","gap-2"],[1,"btn-main","btn","px-4","title__fonts","fw-bold","rounded-1","py-3","px-5","text-uppercase","fs-14"],["routerLink","/settings",1,"text-decoration-none"],[1,"pi-cog","pi","me-1"],[1,"fst-italic","fw-bold","text-danger"]],template:function(t,e){t&1&&(o(0,"form",0),w("ngSubmit",function(){return e.onSubmitUpdateUserPassword()}),o(1,"h3",1)(2,"span",2),n(3,"Change Password"),i()(),o(4,"div",3)(5,"div",4)(6,"div")(7,"p-password",5),w("onFocus",function(){return e.isSuccess=!1}),i()()(),o(8,"div",4)(9,"div")(10,"p-password",6),w("onFocus",function(){return e.isSuccess=!1}),i()()(),C(11,A,3,0,"div",7)(12,O,3,0,"div",7)(13,x,3,0,"div",7),o(14,"small",8),n(15,"Password Changed Successfully"),i(),o(16,"div",9)(17,"button",10),n(18," Change Password "),i(),o(19,"div")(20,"a",11),g(21,"i",12),n(22," account settings"),i()()()()()),t&2&&(d("formGroup",e.userPasswordForm),a(7),d("feedback",!1)("toggleMask",!0),a(3),d("feedback",!1)("toggleMask",!0),a(),c(11,e.password!=null&&e.password.getError("required")&&e.startValidation||e.rePassword!=null&&e.rePassword.getError("required")&&e.startValidation?11:-1),a(),c(12,e.password!=null&&e.password.getError("minlength")&&e.startValidation||e.rePassword!=null&&e.rePassword.getError("minlength")&&e.startValidation?12:-1),a(),c(13,e.userPasswordForm.errors!=null&&e.userPasswordForm.errors.passwordMismatch&&e.startValidation?13:-1),a(),d("ngClass",S(9,R,e.isSuccess,!e.isSuccess)))},dependencies:[U,L,N,V,T,E,k,D,y,F,_],styles:["input,   .p-password{width:100%;height:100%}"]})}}return s})();var ie=(()=>{class s{static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275cmp=p({type:s,selectors:[["app-privacy-settings"]],standalone:!0,features:[f],decls:1,vars:0,template:function(t,e){t&1&&g(0,"app-change-password")},dependencies:[q]})}}return s})();export{ie as PrivacySettingsComponent};
